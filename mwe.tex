\documentclass[12pt, twoside]{book}

\usepackage[paper=a4paper, top=1.5cm, bottom=2cm, left=2.5cm, right=2.5cm, headheight=15pt]{geometry}

\usepackage{lmodern}
\usepackage{polyglossia}

\usepackage{siunitx}

\usepackage[dvipsnames, table]{xcolor}
\definecolor{darkgreen}{RGB}{0, 155, 85}

\definecolor{LOSS45}{RGB}{130,8,8}
\definecolor{LOSS3545}{RGB}{183,10,10}
\definecolor{LOSS2535}{RGB}{255,0,0}
\definecolor{LOSS1525}{RGB}{255,122,12}
\definecolor{LOSS0515}{RGB}{255,181,12}
\definecolor{STBL}{RGB}{215,215,215}
\definecolor{GAIN0515}{RGB}{58,255,12}
\definecolor{GAIN1525}{RGB}{58,178,12}
\definecolor{GAIN2535}{RGB}{56,136,17}
\definecolor{GAIN3545}{RGB}{50,119,16}
\definecolor{GAIN45}{RGB}{48,83,56}


\usepackage{graphicx}
\usepackage{floatrow}
\usepackage[labelsep=colon]{caption}
\usepackage{subcaption}
\renewcommand{\thesubfigure}{\alph{subfigure}}
\captionsetup[subfigure]{subrefformat=parens, labelformat=parens, labelsep=space}
\usepackage{rotating}
\usepackage[section]{placeins}

\usepackage{enumitem}


\usepackage{standalone}

\usepackage{multirow}

\usepackage{array}
\newcolumntype{x}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\usepackage{booktabs}
\usepackage{makecell}

\usepackage{tikz}
\usetikzlibrary{calc, 3d, shadows, decorations, shapes.arrows, fadings}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{forest}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{bm}
\usepackage{bbold}
\usepackage{stmaryrd}


\setcounter{tocdepth}{2}
\usepackage{minitoc}
\setcounter{minitocdepth}{2}
\usepackage{tocbibind}

\usepackage[explicit]{titlesec}
\usepackage{bookmark}

\usepackage{chngcntr}
\counterwithout{footnote}{chapter}

\usepackage[
    title={Colophon},
    titlestyle=scshape,
    titlesize=30pt,
    titlealign=r,
    aftertitle=5em,
    parstyle=itshape,
    noclrdblpg,
    parsize=11pt,
    parlead=15pt
]{colophon}


\usepackage[acronym, toc, automake=true, nohypertypes={acronym}]{glossaries}
\usepackage{imakeidx}
\makeindex[intoc]

\usepackage{hyperref}
\hypersetup{
    colorlinks=false,
    pdfsubject={3D building models},
    pdftitle={Quality evaluation of 3D building models: a scalable approach},
    pdfauthor={Oussama Ennafii},
    pdfkeywords={3D urban modeling, buildings, quality assessment, taxonomy, classification, error detection, geometry, aerial imagery, Very High Spatial Resolution, Digital Surface Model},
    pdfstartview={FitH},
    unicode=true
}

\usepackage[
    backend=biber,
    style=authoryear,
    dashed=false,
    sorting=nty,
    maxbibnames=5,
    minbibnames=5,
    maxcitenames=1,
    mincitenames=1,
    uniquelist=false,
    uniquename=false,
    hyperref=true,
    backref=true,
    backrefstyle=all+,
    isbn=false,
    url=false,
    doi=false
]{biblatex}
\usepackage{xpatch}
\addbibresource{references.bib}

\usepackage[useregional]{datetime2}

\usepackage{style/environments}
\usepackage{style/hacks}
\usepackage{style/glossaries}

\usepackage{csquotes}
\usepackage{fontspec}
\setmainlanguage{english}
\setotherlanguage{french}
\setotherlanguage[locale=morocco]{arabic}
\newfontfamily\arabicfont[Script=Arabic]{Amiri}

\begin{document}
    \dominitoc
    \doparttoc
    \selectlanguage{english}
    \frontmatter
    \pagestyle{plain}
   
    \input{frontmatter/0-cover_page}
    \input{frontmatter/colophon}
    \input{frontmatter/dedication}
    \chapter{Abstract}
        \adjustmtc
        \input{frontmatter/abstract}

    \selectlanguage{arabic}
    \chapter{ملخص}
        \adjustmtc
        \input{frontmatter/molakhass}
    \selectlanguage{english}

    \selectlanguage{french}
    \chapter{Résumé}
        \adjustmtc
        \input{frontmatter/resume}
    \selectlanguage{english}

    \tableofcontents
    \listoffigures
    \listoftables

    \chapter{Acknowlegements}
        \adjustmtc
        \input{frontmatter/acknowledgments}

    \mainmatter

    \selectlanguage{french}
    \chapter*{Résumé étendu}
        \addcontentsline{toc}{chapter}{Résumé étendu}
        \adjustmtc
        \input{frontmatter/resume_long}
    \selectlanguage{english}

    \chapter{Introduction}
        \label{chap::introduction}
        \input{chapters/1-introduction}
    
    \chapter{State-of-the-art}
        \label{chap::state_of_the_art}
        \input{chapters/2-state_of_the_art}

    \chapter{Semantic evaluation of \texorpdfstring{\gls*{acr::3d}}{3D} models}
        \label{chap::semantic_evaluation}
        \input{chapters/3-semantic_evaluation}

    \chapter{A learning approach for quality evaluation}
        \label{chap::learned_evaluation}
        \input{chapters/4-learned_evaluation}

    \chapter{Assessing the learned approach}
        \label{chap::experiments}
        \input{chapters/5-experiments}

    \chapter{Computing a better representation}
        \label{chap::better_representation}
        \input{chapters/6-better_representation}

    \chapter{Assessing the advanced features}
        \label{chap::advanced_experiments}
        \input{chapters/7-advanced_experiments}

    \chapter{Conclusion}
        \label{chap::conclusion}
        \input{chapters/8-conclusion}

    \appendix
    \chapter{List of publications}
        \label{chap::publications}
        \input{chapters/a1-publications}
    \chapter{Supervised classifiers}
        \label{chap::classifiers}
        \input{chapters/a2-classifiers}
    \chapter{Further experimental details}
        \label{chap::details}
        \input{chapters/a3-details}

    \printglossary[type=\acronymtype]
    \printglossary
    
    \printbibliography[heading=bibintoc]
    \printindex

    \input{frontmatter/back_cover}
\end{document}
